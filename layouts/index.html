{{ define "main" }}
{{ .Content }}
{{ end }}

<script>
  // 지원하는 언어 목록 (ko 제외)
  var supported = ['en', 'ja', 'zh'];
  // 브라우저 언어 추출 (예: 'en', 'ja', 'zh', 'ko')
  var browserLang = (navigator.language || navigator.userLanguage || 'ja').split('-')[0];
  // 현재 경로의 언어
  var pathLang = window.location.pathname.split('/')[1];

  if (pathLang === '') {
    // 루트(/)로 접근한 경우
    if (supported.includes(browserLang)) {
      if (browserLang === 'ja') {
        window.location.replace('/blog/'); // 일본어는 /blog
      } else {
        window.location.replace('/' + browserLang + '/blog/');
      }
    } else {
      window.location.replace('/blog/'); // 지원하지 않는 언어(ko 포함)는 일본어로
    }
  }
</script>